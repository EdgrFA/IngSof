<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Menu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
</head>
<body ng-app="menu">
    <div class="container-fluid">
        <div class="row mt-5">
            <div class="col s2"></div>
            <div class="col s6">
                <h3 class="pl-5"> Ejemplo de Rabadan </h3>
                <h6> Agregar materias y luego alumnos a esas materias </h6>
            </div>
            <div class="col s2"></div>
        </div>
        <div class="row">
            <div class="col s4" id="tabs">
                <div class="nav flex-column nav-pills w-50 p-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                    <a class="nav-link active" id="materia-tab" data-toggle="tab" href="#materia-div" role="tab" aria-controls="v-pills-home" aria-selected="true">Materia</a>
                    <a class="nav-link" id="alumno-tab" data-toggle="tab" href="#alumno-div" role="tab" aria-controls="v-pills-profile" aria-selected="false">Alumno</a>
                </div>
            </div>
            <div class="col">
                <div class="tab-content" id="v-pills-tabContent">
                    <div class="tab-pane fade show active" id="materia-div" role="tabpanel" aria-labelledby="materia-tab">    
                        <div class="form-group">
                            <label for="materiaNombre">Nombre:</label>
                            <input type="text" class="form-control" id="materiaNombre">
                        </div>
                        <div class="form-group">
                            <label for="grupo">Grupo:</label>
                            <input type="text" class="form-control" id="grupo">
                        </div>
                    </div>
                    <div class="tab-pane fade " id="alumno-div" role="tabpanel" aria-labelledby="alumno-tab">
                        <form name="form" class="css-form" novalidate>
                            <div class="form-group">
                                <label for="alumnoNombre">Nombre:</label>
                                <input type="text" class="form-control" id="materiaNombre">
                            </div>
                            <div class="form-group">
                                <label for="boleta">Boleta:</label>
                                <input type="number" class="form-control" id="grupo">
                            </div>
                            <div class="form-group" ng-controller="materias=forms">
                                <label for="materia">Materdias: </label>
                                <select multiple class="form-control" id="materia" ng-model="data.model">
                                    <option ng-repeat="option in data.availableOptions" value="{{option.id}}">{{option.name}}</option>
                                </select>
                            </div>
                        </form>    
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.3.1.slim.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular-route.js"></script>
    
    <script>
        $("#alumno-tab").click( function(){
            angular.module('menu', [])
            .controller('alumno-controller', ['$http', function ($http) {
            	console.log("entre");
            	$http({
                    method: 'GET',
                    url: '/materia/obtener'
                }).then(function successCallback(response) {
                	console.log("hola bien");
                    angular.module('menu', [])
                    .controller('materias=forms', ['$scope', function($scope) {
                        $scope.data = {
                        model: null,
                        availableOptions: response
                        };
                    }]); 
                }, function errorCallback(response) {
                	console.log("hola");
                }        
                )
            }]);
        });
    </script>
</body>
</html>